<!DOCTYPE html>
<html lang="" xml:lang="">
  <head>
    <title>Visualización de datos con R</title>
    <meta charset="utf-8" />
    <meta name="author" content="Jorge Huanca, Jackeline García y Elías Aburto" />
    <script src="libs/header-attrs/header-attrs.js"></script>
    <link href="libs/tile-view/tile-view.css" rel="stylesheet" />
    <script src="libs/tile-view/tile-view.js"></script>
    <link href="libs/tachyons/tachyons.min.css" rel="stylesheet" />
    <link href="libs/panelset/panelset.css" rel="stylesheet" />
    <script src="libs/panelset/panelset.js"></script>
    <script type="application/json" id="xaringanExtra-editable-docid">{"id":"x4ef5264692f47e58c88c62a196a1947","expires":14}</script>
    <script src="libs/himalaya/himalaya.js"></script>
    <script src="libs/js-cookie/js.cookie.js"></script>
    <link href="libs/editable/editable.css" rel="stylesheet" />
    <script src="libs/editable/editable.js"></script>
    <script src="libs/fabric/fabric.min.js"></script>
    <link href="libs/xaringanExtra-scribble/scribble.css" rel="stylesheet" />
    <script src="libs/xaringanExtra-scribble/scribble.js"></script>
    <script>document.addEventListener('DOMContentLoaded', function() { window.xeScribble = new Scribble({"pen_color":["#FF0000"],"pen_size":3,"eraser_size":30,"palette":[]}) })</script>
    <script src="libs/clipboard/clipboard.min.js"></script>
    <link href="libs/xaringanExtra-clipboard/xaringanExtra-clipboard.css" rel="stylesheet" />
    <script src="libs/xaringanExtra-clipboard/xaringanExtra-clipboard.js"></script>
    <script>window.xaringanExtraClipboard(null, {"button":"Copiar","success":"Copiado","error":"Presiona Ctrl+C para copiar"})</script>
    <script src="libs/xaringanExtra_fit-screen/fit-screen.js"></script>
    <link href="libs/xaringanExtra-extra-styles/xaringanExtra-extra-styles.css" rel="stylesheet" />
    <script src="libs/htmlwidgets/htmlwidgets.js"></script>
    <script src="libs/jquery/jquery.min.js"></script>
    <link href="libs/datatables-css/datatables-crosstalk.css" rel="stylesheet" />
    <script src="libs/datatables-binding/datatables.js"></script>
    <link href="libs/dt-core/css/jquery.dataTables.min.css" rel="stylesheet" />
    <link href="libs/dt-core/css/jquery.dataTables.extra.css" rel="stylesheet" />
    <script src="libs/dt-core/js/jquery.dataTables.min.js"></script>
    <link href="libs/crosstalk/css/crosstalk.css" rel="stylesheet" />
    <script src="libs/crosstalk/js/crosstalk.min.js"></script>
    <link href="libs/countdown/countdown.css" rel="stylesheet" />
    <script src="libs/countdown/countdown.js"></script>
    <link rel="stylesheet" href="xaringan-themer.css" type="text/css" />
    <link rel="stylesheet" href="xaringan-extra.css" type="text/css" />
  </head>
  <body>
    <textarea id="source">
class: center, middle, inverse, title-slide

# Visualización de datos con R
### Jorge Huanca, Jackeline García y Elías Aburto
### Avances en Medición Psicológica
### 17/12/2021

---


class: inverse, center, middle
# .font150[TEMARIO]





<div>
<style type="text/css">.xaringan-extra-logo {
width: 120px;
height: 120px;
z-index: 0;
background-image: url(imagenes/logo.png);
background-size: contain;
background-repeat: no-repeat;
position: absolute;
top:1em;right:1em;
}
</style>
<script>(function () {
  let tries = 0
  function addLogo () {
    if (typeof slideshow === 'undefined') {
      tries += 1
      if (tries < 10) {
        setTimeout(addLogo, 100)
      }
    } else {
      document.querySelectorAll('.remark-slide-content:not(.title-slide):not(.inverse):not(.hide_logo)')
        .forEach(function (slide) {
          const logo = document.createElement('a')
          logo.classList = 'xaringan-extra-logo'
          logo.href = 'https://medicionpsicologica.com'
          slide.appendChild(logo)
        })
    }
  }
  document.addEventListener('DOMContentLoaded', addLogo)
})()</script>
</div>

---

## ¿Qué veremos hoy?

.pull-left[
1. **VISUALIZACIÓN DE DATOS** 
 * Definición
 * Importancia
 * Visualización de datos con R
 
2. **GRAMÁTICA DE GRÁFICOS**
 * Capas básicas
 * Capas de personalización
 
3. **ILUSTRACIÓN**
 * Base de datos
 * Gráfico de barras
 * Histograma
 * Diagrama de cajas y bigotes
 
4. **PRÁCTICA**
]

.pull-right[
&lt;img src="imagenes/ampi.png" width="100%" /&gt;
]


---

class: inverse, center, middle
# .font150[VISUALIZACIÓN DE DATOS]

---

## ¿Qué es la visualización de datos?
.font105[Algunas **definiciones** (Cairo, 2016).]

.panelset[
.panel[.panel-name[Visualización]

#### 1. Definición

.pull-left[
**Visualización** es un tipo de representación visual de información diseñada para permitir la comunicación, el análisis, el descubrimiento, la exploración, etc.

]

.pull-right[
&lt;div&gt;
&lt;p style = 'text-align:center;'&gt;
&lt;img src = "https://annabaa.org/aarticles/fileM/23/6134585fad648.jpg" width="350px"&gt;

]
]

.panel[.panel-name[Gráfico]

#### 2. Definición


.pull-left[
Un **gráfico** (chart o plot como sinónimos) es una representación en la que los datos se codifican con símbolos que tienen diferentes formas, colores o proporciones.]

.pull-right[
&lt;img src="imagenes/0.2.PNG" width="100%" /&gt;
]

]

.panel[.panel-name[Mapa]

#### 3. Definición

.pull-left[
Un **mapa** es una representación de un área geográfica o una representación de los datos que pertenecen a esa área geográfica.]

.pull-right[
&lt;img src="imagenes/0.3.PNG" width="100%" /&gt;
]

]

.panel[.panel-name[Infografía]

#### 4. Definición

.pull-left[Una **infografía** es una representación visual multiseccional de información con la intención de comunicar uno o más mensajes específicos. Son una mezcla de gráficos, mapas, ilustraciones y texto que brinda explicación y contexto.
]

.pull-right[
&lt;img src="imagenes/0.4.PNG" width="100%" /&gt;
]


]

.panel[.panel-name[Visualización de datos]

#### 5. Definición

.pull-left[
-	Representación de datos diseñada para permitir el análisis, la exploración y el descubrimiento.

-	No busca transmitir mensajes predefinidos por sus diseñadores.

-	Herramienta que permite a las personas extraer sus propias conclusiones de los datos.

]

.pull-right[
&lt;div&gt;
&lt;p style = 'text-align:center;'&gt;
&lt;img src = "https://neixar.com/wp-content/uploads/2019/06/Visualizaci%C3%B3n-Neixar-imagen-destacada-846x656.jpg" width="350px"&gt;
]

]
]

---

##¿Por qué es importante visualizar los datos? (Healy, 2019)

- Diferente distribución, mismo coeficiente de correlación.
- Análisis de distribución de los datos y corroborar si cumple los supuestos fundamentales de las técnicas estadísticas.

.pull-left[
&lt;img src="imagenes/1.PNG" width="70%" /&gt;
]

.pull-right[
&lt;img src="imagenes/2.PNG" width="60%" /&gt;
]

---

##¿Por qué es importante conocer sobre visualización de datos? 

####Para entender los errores comunes en la construcción de gráficos y evitarlos en el futuro (Healy, 2019).

.panelset[
.panel[.panel-name[El mal gusto]

Utilizar excesivos elementos gráficos que dificultan la interpretación.

&lt;img src="imagenes/3.PNG" width="70%" /&gt;

]

.panel[.panel-name[Datos errados 1]

Forzar la interpretación de los datos a intereses particulares.


&lt;img src="imagenes/4.PNG" width="90%" /&gt;
]

.panel[.panel-name[Datos errados 2]

Forzar la interpretación de los datos a intereses particulares.


&lt;img src="imagenes/5.PNG" width="80%" /&gt;
]

.panel[.panel-name[Problemas de percepción]

La forma y el color que se elija pueden ser claves.


&lt;img src="imagenes/6.PNG" width="95%" /&gt;
]
]

---

# Visualización de datos con R

.panelset[
.panel[.panel-name[Herramientas]

.pull-left[
#### a) Interfaz gráfica: 
- [Power BI](https://powerbi.microsoft.com/es-es/)

- [Flourish](https://flourish.studio/)

- [Tableau](https://www.tableau.com/)

&lt;img src="https://xd.adobe.com/ideas/wp-content/uploads/2020/10/what-is-graphical_user_interface.png" width="400px"&gt;

]

.pull-right[
#### b) Programación:
- [R](https://www.r-project.org/)

- [Python](https://www.python.org/)

&lt;img src="https://www.revistaenergia.com/wp-content/uploads/2020/12/source-4280758-1.jpg" width="400px"&gt;

]

]

.panel[.panel-name[Ventajas de R]

Las principales ventajas de usar R para la visualización de datos son: 

.pull-left[
- **Reproducibilidad** 

- **Transparencia**

- **Personalización**
]

.pull-right[

####Iniciativas colaborativas:
[#30díasdegráficos con R](https://github.com/cienciadedatos/datos-de-miercoles/blob/master/30-dias-de-graficos-2020.md)

&lt;div&gt;
&lt;p style = 'text-align:center;'&gt;
&lt;img src="https://opengraph.githubassets.com/29a716519a06b53dd7a3b1ebfa6bd801962ad55d18f3c8d86fdcd4a883b9f7a3/jorgesat/30diasdegraficos" width="600px"&gt;
&lt;/p&gt;
&lt;/div&gt;

]
]

.panel[.panel-name[Ejemplos]

[BBC](https://medium.com/bbc-visual-and-data-journalism/how-the-bbc-visual-and-data-journalism-team-works-with-graphics-in-r-ed0b35693535) es una de las diferentes organizaciones que viene empleando R para la elaboración de sus gráficos. Para ello incluso ha creado un paquete denominado [bbplot](https://github.com/bbc/bbplot?fbclid=IwAR33xLEqbnMtBtNcBxWIz_2BserkV53TAyp44828yTxf_HzZmUU0QeWTgW8)

&lt;div&gt;
&lt;p style = 'text-align:center;'&gt;
&lt;img src="https://raw.githubusercontent.com/bbc/bbplot/master/chart_examples/bbplot_example_plots.png" width="720px"&gt;
&lt;/p&gt;
&lt;/div&gt;

]


.panel[.panel-name[Paquetes]

Para crear visualizaciones se utiliza el paquete `ggplot2` y una serie de extensiones tales como:

- patchwork
- gganimate
- ggplotly
- ggridges
- ggtext
- ggrepel
- ggstatsplot

]
]

---
class: inverse, center, middle
# .font150[GRAMÁTICA DE GRÁFICOS]

---

class: inverse

background-image:url(https://pbs.twimg.com/media/EQ-uBWcX0AIc_bs.png)
background-size: cover   

---

# Capas básicas

.pull-left[
Un gráfico esta compuesto **mínimamente** por tres capas: 
- Datos
- Coordenadas
- Geometría
]

.pull-right[
&lt;img src="imagenes/ggplot2_capas_básicas.png" width="100%" /&gt;
]

---

.panelset[
.panel[.panel-name[Paso 0]

### Paso 0. Cargar paquete 

.font105[.line-space1-3[
`Tidyverse` es un ecosistema de paquetes, entre los cuales se encuentra `ggplot2`]]


```r
library(tidyverse)                
```

&lt;div&gt;
&lt;p style = 'text-align:center;'&gt;
&lt;img src="imagenes/tidyverse.jpg", width = "65%"&gt;
&lt;/p&gt;
&lt;/div&gt;

]


.panel[.panel-name[Paso 1]

### Paso 1. Base de datos
.font105[.line-space1-3[
El primer argumento refiere a la data, en este caso trabajaremos con `iris`]]

.pull-left[

```r
ggplot(data = iris) 
```
]

.pull-right[
&lt;img src="Demo_xaringan_files/figure-html/unnamed-chunk-14-1.png" style="display: block; margin: auto;" /&gt;
]
]

.panel[.panel-name[Paso 2]

### Paso 2. Coordenadas 
.font105[.line-space1-3[
El segundo argumento son las coordenadas, para ello colocamos `aes`]]

.pull-left[

```r
ggplot(data = iris,
*      aes(x = Petal.Length,
*          y = Sepal.Length))
```
]

.pull-right[
&lt;img src="Demo_xaringan_files/figure-html/unnamed-chunk-16-1.png" style="display: block; margin: auto;" /&gt;
]
]

.panel[.panel-name[Paso 3]

### Paso 3. Geometrías
.font105[.line-space1-3[
El tercer argumento refiere a las geometrías, para ello agregamos una capa y colocamos `geom`]]

.pull-left[

```r
ggplot(data = iris,
       aes(x = Petal.Length,
           y = Sepal.Length)) +
*      geom_point()
```
]

.pull-right[
&lt;img src="Demo_xaringan_files/figure-html/unnamed-chunk-18-1.png" style="display: block; margin: auto;" /&gt;
]
]
]

---
class: inverse, center, middle
# .font50[Una vez se cuenta con las 3 capas básicas, se puede agregar otras para personalizar más el gráfico]

---

.panelset[
.panel[.panel-name[Paso 4]

### Paso 4. Color (Parte de Estéticas)
.font105[.line-space1-3[
Con `aes`, además de las coordenadas, se puede colorear el gráfico. En este caso, coloreamos según **especies**
]]
.pull-left[

```r
ggplot(data = iris,
       aes(x = Petal.Length,
           y = Sepal.Length,
*          colour = Species)) +
       geom_point()
```
]

.pull-right[
&lt;img src="Demo_xaringan_files/figure-html/unnamed-chunk-20-1.png" style="display: block; margin: auto;" /&gt;
]
]

.panel[.panel-name[Paso 5]

### Paso 5. Temas
.font105[.line-space1-3[
El cuarto argumento refiere a los temas o formatos de la gráfica, para ello agregamos una capa  y colocamos `theme`
]]
.pull-left[

```r
ggplot(data = iris,
       aes(x = Petal.Length,
           y = Sepal.Length,
           colour = Species)) +
       geom_point() +
*      theme_classic()
```
]

.pull-right[
&lt;img src="Demo_xaringan_files/figure-html/unnamed-chunk-22-1.png" style="display: block; margin: auto;" /&gt;
]
]

.panel[.panel-name[Paso 6]

### Paso 6. Etiquetas
.font105[.line-space1-3[
El quinto argumento refiere a las etiquetas, para ello agregamos una capa y colocamos `labs`. En ella podemos específicar el título, subtítulo, leyenda, y otros.
]]

.pull-left[

```r
ggplot(data = iris,
       aes(x = Petal.Length,
           y = Sepal.Length,
           colour = Species)) +
       geom_point() +
       theme_classic() +
*      labs(
*      title = "Distribución de las especies",
*      subtitle = "Gráfica propia"
*      caption  = "Avances en Medición Psicólogica"
*      )
```
]

.pull-right[
&lt;img src="Demo_xaringan_files/figure-html/unnamed-chunk-24-1.png" style="display: block; margin: auto;" /&gt;
]
]
]

---
class: inverse, center, middle
# .font150[ILUSTRACIÓN]

---
# .font100[Características de la base de datos]

.font105[.line-space1-5[
La base de datos (data) fue extraida de una investigación que tenía por objetivo correlacionar las variables `Autoeficacia Académica (AA)` y el `Burnout (B)` en estudiantes de enfermería ]]

<div id="htmlwidget-6a620279b1c86040686d" style="width:100%;height:auto;" class="datatables html-widget"></div>
<script type="application/json" data-for="htmlwidget-6a620279b1c86040686d">{"x":{"filter":"none","data":[["1","2","3","4","5","6","7","8","9","10","11"],["Muestra","Sexo","Edad","Convivencia","Escuela","Escala de Autoeficacia Academica","Escala de Burnout","Puntaje total de Autoeficacia Academica","Puntaje total de Burnout","Puntaje categorizado de Autoeficacia Academica","Puntaje categorizado de Burnout"],["69","Hombre; Mujer","17; 23","Solo; Con familia","Ciencias; Ciencias sociales; Vocación salud","ase1; ase31","bur1; bur24","44; 144","10; 125","bajo; moderado; alto","leve; moderado; severo"]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>Variable<\/th>\n      <th>Descripcion<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"pageLength":5,"order":[],"autoWidth":false,"orderClasses":false,"columnDefs":[{"orderable":false,"targets":0}],"lengthMenu":[5,10,25,50,100]}},"evals":[],"jsHooks":[]}</script>

---

class: inverse, center, middle
# .font150[Gráfico de barras]

---
# .font100[Definición]


.pull-left[
Los gráficos de barras permiten resumir un conjunto de datos según una **categoría** por ejemplo según fechas, sexo, países, regiones, entre otros. 

La figura muestra las proporciones medias de `variantes de COVID-19` en los distintos países entre enero de 2020 y abril de 2021. 

La imagen puede apreciarse de forma más detallada en el siguiente link (https://ars.els-cdn.com/content/image/1-s2.0-S0033350621003073-gr1.jpg)
]


.pull-right[
&lt;img src="imagenes/articulo_barras.jpg" width="100%" /&gt;
]

.pull-right[
El gráfico fue extraido de la investigación **The real life impact of vaccination on COVID-19 mortality in Europe and Israel** (https://doi.org/10.1016/j.puhe.2021.07.037). 
]

---
class: inverse, center, middle
# .font100[Diferencias entre geom_bar() y geom_col()]

---
.pull-left[
**geom_bar()** hace que la altura de la barra sea proporcional al número de casos en cada grupo (o si se suministra la estética del peso, la suma de los pesos). Utiliza stat_count() por defecto, cuenta el número de casos en cada posición x.

![](Demo_xaringan_files/figure-html/unnamed-chunk-27-1.png)&lt;!-- --&gt;

]

.pull-right[
**geom_col** hace que la altura de la barra represente el valor de los datos. Así mismo utiliza stat_identity() por lo que deja los datos como están. Siendo necesario agregar la función count() para hallar la cantidad de casos para cada barra. 

![](Demo_xaringan_files/figure-html/unnamed-chunk-28-1.png)&lt;!-- --&gt;
]

---

class: inverse, center, middle
# .font100[Gráfico de barras con geom_bar()]
---

.panelset[
.panel[.panel-name[Paso 1]

#### 1. Coordenadas

.font105[.line-space1-5[
Al usar la función `%&gt;%` lo primero que colocaremos antes de crear cualquier código es la base de datos que en este caso se llama `data`. Posteriormente incluiremos la función **ggplot()** la cual crea el sistema de coordenadas y especifica las coordenadas con `aes`. Para la gráfica en el eje "x" utilizaremos la variable categórica `ase_cat`
]]

.pull-left[

```r
data %&gt;%                             
* ggplot(aes(x = ase_cat))
```
]

.pull-right[
![](Demo_xaringan_files/figure-html/unnamed-chunk-30-1.png)&lt;!-- --&gt;
]
]

.panel[.panel-name[Paso 2]

#### 2. Geometrías

.font105[.line-space1-5[
Luego de especificar las coordenadas del gráfico definimos la geométria a utilizar, para ello agregaremos una capa **(con el símbolo +) ** y utilizaremos la geometría **geom_bar**
]]

.pull-left[

```r
data %&gt;%                             
  ggplot(aes(x = ase_cat)) +  
* geom_bar()
```
]

.pull-right[
![](Demo_xaringan_files/figure-html/unnamed-chunk-32-1.png)&lt;!-- --&gt;
]
]

.panel[.panel-name[Paso 3]

#### 3. Colores

.font105[.line-space1-5[
Si bien `aes` permite definir las coordenadas del gráfico, también permite incluir funciones para personalizar el gráfico. Incluyendo el argumento `colour` podemos colorear los bordes de la barra e incluyendo el argumento `fill` podemos especificar un color para el relleno del gráfico.

]]

.pull-left[

```r
data %&gt;% 
  ggplot(aes(x = ase_cat)) + 
* geom_bar(colour = "black",
*          fill = "grey")
```
]

.pull-right[
![](Demo_xaringan_files/figure-html/unnamed-chunk-34-1.png)&lt;!-- --&gt;

]
]

.panel[.panel-name[Paso 4]

#### 4. Tema

.font105[.line-space1-5[
El **tema** es un argumento que le da un formato al fondo y el marco de la gráfica. 

]]

.pull-left[

```r
data %&gt;% 
  ggplot(aes(x = ase_cat)) + 
  geom_bar(colour = "black",     
           fill = "grey") + 
* theme_bw()
```
]

.pull-right[
![](Demo_xaringan_files/figure-html/unnamed-chunk-36-1.png)&lt;!-- --&gt;

]
]

.panel[.panel-name[Paso 5]

#### 5. Etiquetas del gráfico

.font105[.line-space1-5[
Al culminar el gráfico se pueden colocar titulos, subtitulos y leyenda.

]]

.pull-left[

```r
data %&gt;% 
  ggplot(aes(x = ase_cat)) + 
  geom_bar(colour = "black",
           fill = "grey") +
  theme_bw() + 
* labs(
*   title = "Nivel de ansiedad",
*   subtitle = "Gráfica propia",
*   caption = "Avances en Medición Psicológica")
```
]

.pull-right[
![](Demo_xaringan_files/figure-html/unnamed-chunk-38-1.png)&lt;!-- --&gt;

]
] 
] 

---
class: inverse, center, middle
# .font100[Gráfico de barras con geom_col()]

---

.panelset[
.panel[.panel-name[Paso 1]

#### 1. Conteo de variables

.font105[.line-space1-5[
Para utilizar **geom_col** primero realizaremos el conteo de la variable que luego será graficada. Para ello se utilizaran las funciones `count()`, `mutate()` y `factor()`. 
]]

.pull-left[

```r
data %&gt;%                             
* count(ase_cat) %&gt;%
* mutate(
*   ase_cat = factor(ase_cat),
*         n = factor(n)
* )
```
]

.pull-right[

```
## # A tibble: 3 x 2
##   ase_cat  n    
##   &lt;fct&gt;    &lt;fct&gt;
## 1 Alto     10   
## 2 Bajo     9    
## 3 Moderado 50
```
]

]

.panel[.panel-name[Paso 2]

#### 2. Coordenadas

.font105[.line-space1-5[
Con el argumento `aes`, señalaremos el contenido del eje horizontal (x) y vertical (y)
]]

.pull-left[

```r
data %&gt;% 
  count(ase_cat) %&gt;% 
  mutate(
    ase_cat = factor(ase_cat),
          n = factor(n)
  ) %&gt;% 
* ggplot(aes(y = n,
*            x = ase_cat))
```
]


.pull-right[
&lt;img src="Demo_xaringan_files/figure-html/unnamed-chunk-42-1.png" width="504" /&gt;
]

]

.panel[.panel-name[Paso 3]

#### 3. Geometrías

.font105[.line-space1-5[
Agregamos una capa **(con el símbolo +)** para agregar el argumento de la geometría **geom_col**.
]]

.pull-left[

```r
data %&gt;% 
  count(ase_cat) %&gt;% 
  mutate(
    ase_cat = factor(ase_cat),
          n = factor(n)
  ) %&gt;% 
  ggplot(aes(y = n,            
             x = ase_cat)) +   
* geom_col()
```
]

.pull-right[
&lt;img src="Demo_xaringan_files/figure-html/unnamed-chunk-44-1.png" width="504" /&gt;
]
]


.panel[.panel-name[Paso 4A]

#### 4. Colores del gráfico

.font105[.line-space1-5[
Dentro de la función de `aes` agregaremos el argumento `fill` y en este caso, coloreamos según **ase_cat**
]]
.pull-left[

```r
data %&gt;% 
  count(ase_cat) %&gt;% 
  mutate(
    ase_cat = factor(ase_cat),
          n = factor(n)
  ) %&gt;% 
  ggplot(aes(y = n,               
             x = ase_cat,         
*         fill = ase_cat)) +
  geom_col()
```
]


.pull-right[
&lt;img src="Demo_xaringan_files/figure-html/unnamed-chunk-46-1.png" width="504" /&gt;
]
]

.panel[.panel-name[Paso 4B]

#### 4.1 Colores del gráfico

.font105[.line-space1-5[
También podemos colorearemos el gráfico según otra variable categórica, por ejemplo según la variable **sexo**.
]]

.pull-left[

```r
data %&gt;% 
  count(ase_cat, sexo) %&gt;% 
  mutate(
    ase_cat = factor(ase_cat),  
          sexo = factor(sexo)   
  ) %&gt;% 
  ggplot(aes(y = n,             
             x = ase_cat,          
*            fill = sexo)) +
  geom_col()                          
```
]


.pull-right[
&lt;img src="Demo_xaringan_files/figure-html/unnamed-chunk-48-1.png" width="504" /&gt;
]
]

.panel[.panel-name[Paso 5]

#### 5. Temas

.font105[.line-space1-5[
Los temas permiten establecer un fondo a la gráfica, para ello agregamos una capa  y colocamos `theme`
]]
.pull-left[

```r
data %&gt;% 
  count(ase_cat) %&gt;% 
  mutate(
    ase_cat = factor(ase_cat),
          n = factor(n)
  ) %&gt;% 
  ggplot(aes(y = n,            
             x = ase_cat,      
          fill = ase_cat)) +   
  geom_col() +
* theme_minimal()
```
]


.pull-right[
![](Demo_xaringan_files/figure-html/unnamed-chunk-50-1.png)&lt;!-- --&gt;
]
]

.panel[.panel-name[Paso 6]

#### 6. Etiquetas en la barra

.font105[.line-space1-5[
Las etiquetas en la barra permiten denotar la altura de la barra. Para incluir las etiquetas agregamos el argumento `geom_label()`. En ella especificaremos el contenido de la etiqueta.
]]
.pull-left[

```r
data %&gt;% 
  count(ase_cat) %&gt;%                         
  mutate(
    ase_cat = factor(ase_cat),
          n = factor(n)
  ) %&gt;% 
  ggplot(aes(y = n, 
             x = ase_cat,
          fill = ase_cat)) +
  geom_col() + 
  theme_minimal() +
* geom_label(aes(label = n),
* position = position_stack(vjust = 0.5))
```
]


.pull-right[
![](Demo_xaringan_files/figure-html/unnamed-chunk-52-1.png)&lt;!-- --&gt;
]
]

.panel[.panel-name[Paso 7]

#### 7. Etiquetas en el gráfico

.font105[.line-space1-5[
Este argumento permite agregar etiquetas como el titulo, el subtitulo y la leyenda. Para ello utilizaremos el argumento `labs` con la cual especificaremos el contenido de cada etiqueta.
]]
.pull-left[

```r
data %&gt;% 
  count(ase_cat) %&gt;% 
  mutate(
    ase_cat = factor(ase_cat),
          n = factor(n)
  ) %&gt;% 
  ggplot(aes(y = n, 
             x = ase_cat,
          fill = ase_cat)) +
  geom_col() + 
  theme_minimal() +
  geom_label(aes(label = n),                         
             position = position_stack(vjust = 0.5)) +
* labs(
* title = "Nivel de ansiedad",
* subtitle = "Gráfica propia",
* caption = "Avances en Medición Psicológica")
```
]


.pull-right[
![](Demo_xaringan_files/figure-html/unnamed-chunk-54-1.png)&lt;!-- --&gt;
]
]
]

---

## ¡Nos vemos en 10 minutos!

<div class="countdown" id="timer_61bcc475" style="top:5;right:0;left:0;margin:5%;padding:50px;font-size:6em;" data-audio="true" data-warnwhen="0">
<code class="countdown-time"><span class="countdown-digits minutes">10</span><span class="countdown-digits colon">:</span><span class="countdown-digits seconds">00</span></code>
</div>

---

class: inverse, center, middle
# .font100[Histograma]

---

# HISTOGRAMA
.font105[**Descripción general (Harris, 1999; Zedeck, 2013)**]

.panelset[
.panel[.panel-name[Definición]


Representación gráfica de datos continuos mediante barras de altura variable, similar a un GRÁFICO DE BARRAS, pero con bloques en el eje X; contiguos entre sí para denotar su naturaleza continua.

&lt;div&gt;
&lt;p style = 'text-align:center;'&gt;
&lt;img src="imagenes/0.5.0.png" width="43%" /&gt;
]
]

.panel[.panel-name[Proceso 1]

####1. Dado un conjunto de datos:

&lt;img src="imagenes/Histo_1.PNG" width="100%" /&gt;
]

.panel[.panel-name[Proceso 2]

####2. Los datos datos representados en una coordenada.

&lt;img src="imagenes/Histo_2.PNG" width="100%" /&gt;
]

.panel[.panel-name[Proceso 3]

####3. Se forman intervalos de clase con la misma amplitud y se contabilizan los datos de cada intervalo de clase.

&lt;img src="imagenes/Histo_3.PNG" width="100%" /&gt;
]

.panel[.panel-name[Proceso 4]

####4.	Introducción de columnas en cada uno de los intervalos de clase.

&lt;img src="imagenes/Histo_4.PNG" width="100%" /&gt;

]

.panel[.panel-name[Intervalos de clase]

Rango de puntuaciones o valores numéricos que constituyen un segmento o clase de una variable de interés. 

####Amplitud de intervalo de clase, Regla de Sturges


&lt;img src="imagenes/Histogram_1.PNG" width="120%" /&gt;
- R = Rango, la diferencia entre el mayor y menor valor del conjunto de datos
- k = número de intervalos de clase
- N = número de valores en el conjunto de datos en observación

]
]

---

# HISTOGRAMA
.font105[**Presentación básica de un histograma en R**]

.panelset[
.panel[.panel-name[Paso 1]

#### 1. Cargar paquetes

- `tidyverse` y `patchwork`


```r
library(tidyverse)
library(patchwork)
```

.panel[.panel-name[Paso 2]

#### 2. Importar datos.

.font105[

```r
data &lt;- readxl::read_xlsx("data3_clean.xlsx")
```
]
]

.panel[.panel-name[Paso 3]

#### 3. Cargar datos en ggplot.

.pull-left[

```r
ggplot(data)
```
]

.pull-right[
&lt;img src="Demo_xaringan_files/figure-html/unnamed-chunk-65-1.png" width="70%" /&gt;
]
]

.panel[.panel-name[Paso 4]

#### 4. Indicar la variable de análisis con aes.

.pull-left[

```r
ggplot(data, aes(x = ase_total)) 
```
]

.pull-right[
&lt;img src="Demo_xaringan_files/figure-html/unnamed-chunk-67-1.png" width="70%" /&gt;
]
]

.panel[.panel-name[Paso 5]

#### 5. Señalar que se trabajará con un gráfico de histograma.

.pull-left[

```r
ggplot(data, aes(x = ase_total)) +
  geom_histogram()
```
]

.pull-right[
&lt;img src="Demo_xaringan_files/figure-html/unnamed-chunk-69-1.png" width="70%" /&gt;
]

]
]
]


---
# HISTOGRAMA
.font105[**Personalización de un histograma**]

.panelset[
.panel[.panel-name[Paso 6]

#### 6. Amplitud de intervalo utilizando la regla de Sturges `function(x) (max(x)-min(x))/nclass.Sturges(x)`.

.pull-left[

```r
ggplot(data, aes(x = ase_total)) +
  geom_histogram(binwidth = 7))
```



```r
ggplot(data, aes(x = ase_total)) +
  geom_histogram(binwidth = function(x) (max(x)-min(x))/nclass.Sturges(x))
```

]

.pull-right[
&lt;img src="Demo_xaringan_files/figure-html/unnamed-chunk-72-1.png" width="70%" /&gt;
]
]

.panel[.panel-name[Paso 7]

####7. Color y relleno.

.pull-left[

```r
ggplot(data, aes(x = ase_total)) +
  geom_histogram(binwidth = function(x) (max(x)-min(x))/nclass.Sturges(x),
                 color = "black",
                 fill = "skyblue")
```
]

.pull-right[
&lt;img src="Demo_xaringan_files/figure-html/unnamed-chunk-74-1.png" width="70%" /&gt;
]
]



.panel[.panel-name[Paso 8]

#### 8. Tema.

.pull-left[

```r
ggplot(data, aes(x = ase_total)) +
  geom_histogram(binwidth = function(x) (max(x)-min(x))/nclass.Sturges(x),
                 color = "black",
                 fill = "skyblue") +
  theme_classic()
```
]

.pull-right[
&lt;img src="Demo_xaringan_files/figure-html/unnamed-chunk-76-1.png" width="70%" /&gt;
]
]

.panel[.panel-name[Paso 9]

#### 9. Anotaciones `labs`.


.pull-left[

```r
ggplot(data, aes(x = ase_total)) +
  geom_histogram(binwidth = function(x) (max(x)-min(x))/nclass.Sturges(x),
                 color = "black",
                 fill = "skyblue") + 
  labs(
    title = "Distribución de puntajes de Autoeficacia Académica",
    subtitle = "Base de datos de Rohmani &amp; Andriani (2021)",
    x = "Autoeficacia Académica",
    y = "Frecuencia",
    caption  = "Avances en Medición Psicológica") +
  theme_classic()
```
]

.pull-right[
&lt;img src="Demo_xaringan_files/figure-html/unnamed-chunk-78-1.png" width="70%" /&gt;
]

]

.panel[.panel-name[Paso 10]

#### 10. Utilizar facet_wrap para visualizar los resultados según un tipo de variable categórica.

.pull-left[

```r
ggplot(data, aes(x = ase_total)) +
  geom_histogram(binwidth = function(x) (max(x)-min(x))/nclass.Sturges(x),
                 color = "black",
                 fill = "skyblue") + 
  labs(
    title = "Distribución de puntajes de Autoeficacia Académica según el sexo",
    subtitle = "Base de datos de Rohmani &amp; Andriani (2021)",
    x = "Autoeficacia Académica",
    y = "Frecuencia",
    caption  = "Avances en Medición Psicológica") +
  facet_wrap(vars(sexo)) + 
  theme_classic()
```
]

.pull-right[
&lt;img src="Demo_xaringan_files/figure-html/unnamed-chunk-80-1.png" width="70%" /&gt;
]
]
]

---
class: inverse, center, middle
# .font100[Diagrama de cajas y bigotes]

---

### BOXPLOT ¿Cómo interpretarlo?
.font105[.line-space1-3[
La caja de un boxplot comienza en el primer cuartil (Q1) y termina en el tercero (Q3). Por lo tanto, **la caja representa el 50% de los datos centrales**, con una línea dentro que representa la mediana. A cada lado de la caja se dibuja un segmento con los datos más lejanos sin contar los valores atípicos (outliers) del box plot, que en caso de existir, se representarán con círculos.
]]

&lt;img src="imagenes/boxplot.png" width="100%" /&gt;


---

.panelset[
.panel[.panel-name[Paso 1]

### Paso 1. Base de datos
.font105[.line-space1-3[
El primer argumento refiere a la data, en este caso trabajaremos con `data` que previamente fue importada]]

.pull-left[

```r
ggplot(data) 
```
]

.pull-right[
&lt;img src="Demo_xaringan_files/figure-html/unnamed-chunk-83-1.png" style="display: block; margin: auto;" /&gt;
]
]

.panel[.panel-name[Paso 2]

### Paso 2. Coordenadas 
.font105[.line-space1-3[
El segundo argumento son las coordenadas, para ello colocamos `aes`]]

.pull-left[

```r
ggplot(data,
*      aes(x = convive,
*          y = bur_total))
```
]

.pull-right[
&lt;img src="Demo_xaringan_files/figure-html/unnamed-chunk-85-1.png" style="display: block; margin: auto;" /&gt;
]
]

.panel[.panel-name[Paso 3]

### Paso 3. Geometrías
.font105[.line-space1-3[
El tercer argumento refiere a las geometrías, para ello agregamos una capa y colocamos `geom`]]

.pull-left[

```r
ggplot(data,
       aes(x = convive,     
           y = bur_total)) +
*      geom_boxplot()
```
]

.pull-right[
&lt;img src="Demo_xaringan_files/figure-html/unnamed-chunk-87-1.png" style="display: block; margin: auto;" /&gt;
]
]

.panel[.panel-name[Paso 4A]

### Paso 4A. Color (variable)
.font105[.line-space1-3[
Con `aes`, además de las coordenadas, se puede colorear el gráfico. En este caso, coloreamos según la variable **convive**
]]
.pull-left[

```r
ggplot(data,
       aes(x = convive,     
           y = bur_total)) +
*      geom_boxplot(aes(fill = convive))
```
]

.pull-right[
&lt;img src="Demo_xaringan_files/figure-html/unnamed-chunk-89-1.png" style="display: block; margin: auto;" /&gt;
]
]

.panel[.panel-name[Paso 4B]
### Paso 4B. Color (constante)
.font105[.line-space1-3[
Aparte de `aes`, puedes colorear el gráfico con los colores que desees

]]
.pull-left[

```r
ggplot(data,
       aes(x = convive,     
           y = bur_total)) +
*      geom_boxplot(fill = c("#3EB595", "#FFF447"))
```
]

.pull-right[
&lt;img src="Demo_xaringan_files/figure-html/unnamed-chunk-91-1.png" style="display: block; margin: auto;" /&gt;
]
]

.panel[.panel-name[Paso 5]

### Paso 5. Temas
.font105[.line-space1-3[
El cuarto argumento refiere a los temas o formatos de la gráfica, para ello agregamos una capa  y colocamos `theme`
]]
.pull-left[

```r
ggplot(data,
       aes(x = convive,     
           y = bur_total)) +
       geom_boxplot(fill = c("#3EB595", "#FFF447")) +
*      theme_minimal()
```
]

.pull-right[
&lt;img src="Demo_xaringan_files/figure-html/unnamed-chunk-93-1.png" style="display: block; margin: auto;" /&gt;
]
]

.panel[.panel-name[Paso 6]

### Paso 6. Etiquetas
.font105[.line-space1-3[
El quinto argumento refiere a las etiquetas, para ello agregamos una capa y colocamos `labs`. En ella podemos específicar el título, subtítulo, leyenda, y otros.
]]

.pull-left[

```r
ggplot(data,
       aes(x = convive,     
           y = bur_total)) +
       geom_boxplot(fill = c("#3EB595", "#FFF447")) +
       theme_minimal() +
*      labs(
*      title = "Puntajes de burnout según convivencia",
*      caption  = "Avances en Medición Psicólogica"
*      x = "¿Con quién convive?",
*      y = ""
*      )
```
]

.pull-right[
&lt;img src="Demo_xaringan_files/figure-html/unnamed-chunk-95-1.png" style="display: block; margin: auto;" /&gt;
]
]

.panel[.panel-name[Paso 7]

### Paso 7. Geom-jitter
.font105[.line-space1-3[
Se puede añadir una visualización de los datos mediante `geom_jitter`
]]

.pull-left[

```r
ggplot(data,
       aes(x = convive,     
           y = bur_total)) +
       geom_boxplot(fill = c("#3EB595", "#FFF447")) +
       theme_minimal() +
       labs(                                            
       title = "Puntajes de burnout según convivencia", 
       caption  = "Avances en Medición Psicólogica",     
       x = "¿Con quién convive?",                       
       y = ""                       
       ) +
*     geom_jitter(color="black", size=0.5, alpha=0.5)
```
]

.pull-right[
&lt;img src="Demo_xaringan_files/figure-html/unnamed-chunk-97-1.png" style="display: block; margin: auto;" /&gt;
]
]
]

---

class: inverse, center, middle
# .font100[PRÁCTICA]

---

## Instrucciones

.panelset[
.panel[.panel-name[Barras]

.pull-left[
1. Realice un gráfico de barras teniendo en cuenta las variables **bur_total** y **sexo**. 

2. Realice un gráfico con las variables **convive** y **bur_total**. 
]
.pull-right[
&lt;img src="imagenes/perrito.jpg" width="100%" /&gt;
]
]


.panelset[
.panel[.panel-name[Histograma]


1. Construya un histograma con las puntuaciones totales de burnout **(bur_total)** y segmente a la población según el tipo de convivencia **(convive)**. Además, considere las siguientes indicaciones:

- Utilizar la regla de sturges para hallar la amplitud del intervalo de clase.
- El color y el relleno deberán ser distintos a la presentación inicial.
- Titule el eje x con el nombre "Burnout" y el eje Y con el nombre "Frecuencia".
- En los comentarios coloque sus nombres y apellidos.

]
]

.panelset[
.panel[.panel-name[Cajas y bigotes]

1. Construya un diagrama de cajas y bigotes con las puntuaciones totales de autoeficacia académica **(ase_total)**, considerando como variable categórica a la escuela de pertenencia **(escuela)**. Además, considere las siguientes indicaciones:

- Agregue una visualización de los datos con geom_jitter
- El color y el relleno deberán ser distintos a la presentación inicial.
- Titule el eje x con el nombre "Autoeficacia académica" y el eje Y sin nombre.
- En el subtítulo coloque el grupo de estudios al que pertenece.
- En la leyenda coloque sus nombres y apellidos.

]
]
]


---

## Bibliografía

- Cairo, A. (2016). The Truthful Art: Data, Charts, and Maps for Communication.

- Harris, R. L. (1999). Information Graphics. A Comprehensive Illustrated Reference. Visual Tools for Analyzing, Managing, and Communicating. Oxford University Press.

- Healy, K. (2019). Data Visualization: A Practical Introduction. In IEEE Transactions on Professional Communication.
https://doi.org/10.1109/TPC.2019.2922787

- Zedeck, S. (Ed.). (2013). APA Dictionary of Statistics and Research Methods. American Psychological Association.

---

class: middle

&lt;br&gt;
&lt;center&gt;
&lt;h1&gt;
&lt;span style="color:black"&gt;¡Gracias por su atención!&lt;/span&gt;
&lt;h1&gt;
&lt;/center&gt;
&lt;br&gt;

.line-space1-5[
Estas diapositivas fueron creadas mediante los paquetes [xaringan](https://github.com/yihui/xaringan),  [xaringanthemer](https://github.com/gadenbuie/xaringanthemer/) y
[xaringanExtra](https://github.com/gadenbuie/xaringanExtra). Adicionalmente, la presentación de [Brian Peña](https://github.com/brianmsm), sobre [Rmarkdown Nivel Básico](https://github.com/brianmsm/rmakdown-basico), fue tomada como guía-base para esta elaboración.
]

    </textarea>
<style data-target="print-only">@media screen {.remark-slide-container{display:block;}.remark-slide-scaler{box-shadow:none;}}</style>
<script src="https://remarkjs.com/downloads/remark-latest.min.js"></script>
<script>var slideshow = remark.create({
"highlightStyle": "github",
"highlightLines": true,
"countIncrementalSlides": false,
"ratio": "16:11"
});
if (window.HTMLWidgets) slideshow.on('afterShowSlide', function (slide) {
  window.dispatchEvent(new Event('resize'));
});
(function(d) {
  var s = d.createElement("style"), r = d.querySelector(".remark-slide-scaler");
  if (!r) return;
  s.type = "text/css"; s.innerHTML = "@page {size: " + r.style.width + " " + r.style.height +"; }";
  d.head.appendChild(s);
})(document);

(function(d) {
  var el = d.getElementsByClassName("remark-slides-area");
  if (!el) return;
  var slide, slides = slideshow.getSlides(), els = el[0].children;
  for (var i = 1; i < slides.length; i++) {
    slide = slides[i];
    if (slide.properties.continued === "true" || slide.properties.count === "false") {
      els[i - 1].className += ' has-continuation';
    }
  }
  var s = d.createElement("style");
  s.type = "text/css"; s.innerHTML = "@media print { .has-continuation { display: none; } }";
  d.head.appendChild(s);
})(document);
// delete the temporary CSS (for displaying all slides initially) when the user
// starts to view slides
(function() {
  var deleted = false;
  slideshow.on('beforeShowSlide', function(slide) {
    if (deleted) return;
    var sheets = document.styleSheets, node;
    for (var i = 0; i < sheets.length; i++) {
      node = sheets[i].ownerNode;
      if (node.dataset["target"] !== "print-only") continue;
      node.parentNode.removeChild(node);
    }
    deleted = true;
  });
})();
(function() {
  "use strict"
  // Replace <script> tags in slides area to make them executable
  var scripts = document.querySelectorAll(
    '.remark-slides-area .remark-slide-container script'
  );
  if (!scripts.length) return;
  for (var i = 0; i < scripts.length; i++) {
    var s = document.createElement('script');
    var code = document.createTextNode(scripts[i].textContent);
    s.appendChild(code);
    var scriptAttrs = scripts[i].attributes;
    for (var j = 0; j < scriptAttrs.length; j++) {
      s.setAttribute(scriptAttrs[j].name, scriptAttrs[j].value);
    }
    scripts[i].parentElement.replaceChild(s, scripts[i]);
  }
})();
(function() {
  var links = document.getElementsByTagName('a');
  for (var i = 0; i < links.length; i++) {
    if (/^(https?:)?\/\//.test(links[i].getAttribute('href'))) {
      links[i].target = '_blank';
    }
  }
})();
// adds .remark-code-has-line-highlighted class to <pre> parent elements
// of code chunks containing highlighted lines with class .remark-code-line-highlighted
(function(d) {
  const hlines = d.querySelectorAll('.remark-code-line-highlighted');
  const preParents = [];
  const findPreParent = function(line, p = 0) {
    if (p > 1) return null; // traverse up no further than grandparent
    const el = line.parentElement;
    return el.tagName === "PRE" ? el : findPreParent(el, ++p);
  };

  for (let line of hlines) {
    let pre = findPreParent(line);
    if (pre && !preParents.includes(pre)) preParents.push(pre);
  }
  preParents.forEach(p => p.classList.add("remark-code-has-line-highlighted"));
})(document);</script>

<script>
slideshow._releaseMath = function(el) {
  var i, text, code, codes = el.getElementsByTagName('code');
  for (i = 0; i < codes.length;) {
    code = codes[i];
    if (code.parentNode.tagName !== 'PRE' && code.childElementCount === 0) {
      text = code.textContent;
      if (/^\\\((.|\s)+\\\)$/.test(text) || /^\\\[(.|\s)+\\\]$/.test(text) ||
          /^\$\$(.|\s)+\$\$$/.test(text) ||
          /^\\begin\{([^}]+)\}(.|\s)+\\end\{[^}]+\}$/.test(text)) {
        code.outerHTML = code.innerHTML;  // remove <code></code>
        continue;
      }
    }
    i++;
  }
};
slideshow._releaseMath(document);
</script>
<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
(function () {
  var script = document.createElement('script');
  script.type = 'text/javascript';
  script.src  = 'https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML';
  if (location.protocol !== 'file:' && /^https?:/.test(script.src))
    script.src  = script.src.replace(/^https?:/, '');
  document.getElementsByTagName('head')[0].appendChild(script);
})();
</script>
  </body>
</html>
